package tiktok;

import org.junit.Assert;
import org.junit.Test;
import result.NextPages;

import java.util.*;

public class ExtractorTest {
    Extractor extractor = new Extractor();

    @Test
    public void matchedStringIsIdTest() {
        List<String> data = new ArrayList <>();
        data.add("Video Id: 6684634106698927365 Post Author: http.nínì");
        Assert.assertEquals(extractor.extractIds(data).iterator().next(),
                "6684634106698927365");
    }

    @Test
    public void matchedStringsAreIdsTest() {
        List<String> data = new ArrayList <>();
        data.add("Video Id: 6684634106698927365 Post Author: http.nínì");
        data.add("Video Id: 6684821989992959238\n" +
                "Post Author: thiccenchilada");
        data.add("Video Id: 6684709138338974978\n" +
                "Post Author: 2162175438");
        String next = extractor.extractIds(data).iterator().next();

        Assert.assertTrue(next
                .contains("6684634106698927365")||next.contains("6684821989992959238")||
        next.contains("6684709138338974978"));

        Assert.assertEquals(3, extractor.extractIds(data).size());
    }

    @Test
    public void extractedNoNextPagesTest() {
        String urlResponse = "{\"statusCode\":0,\"body\":{\"pageState\":{\"regionAppId\":1233,\"os\":\"linux\",\"region\":\"PL\",\"baseURL\":\"m.tiktok.com\",\"appType\":\"t\",\"fullUrl\":\"https://www.tiktok.com/share/item/comment/list?id=6684937864062438662&count=48&cursor=0&_signature=Huy4ihAeQiYcQa9MNuoS0x7suJ\"},\"commentListData\":[{\"userId\":\"6609533445809291269\",\"text\":\"Still nooooo\",\"nickname\":\"Moe.sh123\",\"uniqueId\":\"moe.sh123\",\"id\":\"6685035509871525894\",\"diggCount\":112,\"createTimestamp\":\"1556481121\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631455207255045~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631455207255045~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631455207255045~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6574745112492048390\",\"text\":\"you were probably about to get your hair cut so it wouldn’t even matter\",\"nickname\":\"7.1k \uD83E\uDD7A\uD83D\uDC9E\",\"uniqueId\":\"brightlaverne\",\"id\":\"6685085890366849030\",\"diggCount\":1465,\"createTimestamp\":\"1556492855\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632372755568646~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632372755568646~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632372755568646~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6587981156716756998\",\"text\":\"Jezus obciąć włosy dla fejmu...masakra\",\"nickname\":\"\uD83D\uDC51Adrian Król\uD83D\uDC51\",\"uniqueId\":\"akise02\",\"id\":\"6684959482197753862\",\"diggCount\":5674,\"createTimestamp\":\"1556463421\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"308797811951652864\",\"text\":\"Comment is loading ... █████████████]99,9%\",\"nickname\":\"SD Tik\",\"uniqueId\":\"sdtik1\",\"id\":\"6686814961932500998\",\"diggCount\":1,\"createTimestamp\":\"1556895432\",\"coversMedium\":[\"https://mpak-suse1.akamaized.net/res/user_v_icon/837/icon_308797811951652864-n39CvusdHI.jpg\"],\"coversLarger\":[\"https://mpak-suse1.akamaized.net/res/user_v_icon/837/icon_308797811951652864-n39CvusdHI.jpg\"],\"covers\":[\"https://mpak-suse1.akamaized.net/res/user_v_icon/837/icon_308797811951652864-n39CvusdHI.jpg\"],\"replyComment\":{}},{\"userId\":\"6653870062908719110\",\"text\":\"obcięłam dla siebie a skoro obcinalam to stwierdziłam ze nagram to\",\"nickname\":\"\uD83C\uDF3B\",\"uniqueId\":\"paawłowska_\",\"id\":\"6684960807388282886\",\"diggCount\":3465,\"createTimestamp\":\"1556463729\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632094623519749~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632094623519749~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632094623519749~c5_100x100.jpeg\"],\"replyComment\":{\"userId\":\"6587981156716756998\",\"text\":\"Jezus obciąć włosy dla fejmu...masakra\",\"nickname\":\"\uD83D\uDC51Adrian Król\uD83D\uDC51\",\"uniqueId\":\"akise02\"," +
                "\"id\":\"6684959482197753862\",\"diggCount\":5674,\"createTimestamp\":\"1556463421\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_100x100.jpeg\"],\"replyComment\":{}}},{\"userId\":\"147830284976062464\",\"text\":\"To tylko włosy, a ona i tak je chciała obciąć sooo\",\"nickname\":\"Dusia \uD83D\uDC9B\",\"uniqueId\":\"klaudiagrzegorczyk\",\"id\":\"6684979228595142661\",\"diggCount\":1383,\"createTimestamp\":\"1556468018\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1625647914627078~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1625647914627078~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1625647914627078~c5_100x100.jpeg\"],\"replyComment\":{\"userId\":\"6587981156716756998\",\"text\":\"Jezus obciąć włosy dla fejmu...masakra\",\"nickname\":\"\uD83D\uDC51Adrian Król\uD83D\uDC51\",\"uniqueId\":\"akise02\",\"id\":\"6684959482197753862\",\"diggCount\":5674,\"createTimestamp\":\"1556463421\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_100x100.jpeg\"],\"replyComment\":{}}},{\"userId\":\"6678315321374721029\",\"text\":\"Szacun ja bym tak nie mogła\",\"nickname\":\"nana\",\"uniqueId\":\"natusiasalatusia\",\"id\":\"6685018583724097541\",\"diggCount\":195,\"createTimestamp\":\"1556477181\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632077678015494~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632077678015494~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632077678015494~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"124608415108120577\",\"text\":\"nie xD\",\"nickname\":\"suzan\",\"uniqueId\":\"ledzionzuzanna\",\"id\":\"6684960166628114437\",\"diggCount\":2455,\"createTimestamp\":\"1556463580\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630730443456518~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630730443456518~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630730443456518~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"198575944989777920\",\"text\":\"@agata_szperlik never\",\"nickname\":\"aa.maja\",\"uniqueId\":\"mãjka233\",\"id\":\"6687263494268092422\",\"diggCount\":0,\"createTimestamp\":\"1556999865\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1625090034194437~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1625090034194437~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1625090034194437~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6653870062908719110\",\"text\":\"niestety\",\"nickname\":\"\uD83C\uDF3B\",\"uniqueId\":\"paawłowska_\",\"id\":\"6685064954716438534\",\"diggCount\":54,\"createTimestamp\":\"1556487980\",\"" +
                "coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632094623519749~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632094623519749~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632094623519749~c5_100x100.jpeg\"],\"replyComment\":{\"userId\":\"163512331136724992\",\"text\":\"FEJM WAM BIJE DO GLOWY XD\",\"nickname\":\"Kamil Kudera\",\"uniqueId\":\"needyourblood\",\"id\":\"6685064600993529861\",\"diggCount\":2,\"createTimestamp\":\"1556487896\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631386828306438~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631386828306438~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631386828306438~c5_100x100.jpeg\"],\"replyComment\":{}}},{\"userId\":\"6559228682773413894\",\"text\":\"Thanksss forr youurr likee ✔️♥️.\",\"nickname\":\".88 \",\"uniqueId\":\"ray..88\",\"id\":\"6687162436036591622\",\"diggCount\":0,\"createTimestamp\":\"1556976336\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632529719399430~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632529719399430~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632529719399430~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6637877867185356805\",\"text\":\"You look like @stien_dd\",\"nickname\":\"Cringe asf but okey\",\"uniqueId\":\"im.not.cringe.okey\",\"id\":\"6686896314875363333\",\"diggCount\":0,\"createTimestamp\":\"1556914375\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1622856058534070~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1622856058534070~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1622856058534070~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6560323909094522885\",\"text\":\"What will your mom say\",\"nickname\":\"Jsakr2091\",\"uniqueId\":\"jsakr2091\",\"id\":\"6686727280959897605\",\"diggCount\":0,\"createTimestamp\":\"1556875020\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632419727035397~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632419727035397~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632419727035397~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6616607841502019590\",\"text\":\"Okay but why did u do it\",\"nickname\":\"Bag_xx_of_xx_bonesxo\",\"uniqueId\":\"xx_cuzzies_borex_xxx\",\"id\":\"6687138525710352389\",\"diggCount\":0,\"createTimestamp\":\"1556970769\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632636844261381~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632636844261381~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632636844261381~c5_100x100.jpeg\"],\"replyComment\":{\"userId\":\"6653870062908719110\",\"text\":\"thats my real hair!\",\"nickname\":\"\uD83C\uDF3B\",\"uniqueId\":\"paawłowska_\",\"id\":\"6686130438417154053\",\"diggCount\":21,\"createTimestamp\":\"1556736055\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632094623519749~c5_720x720.jpeg\"],\"" +
                "coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632094623519749~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632094623519749~c5_100x100.jpeg\"],\"replyComment\":{}}},{\"userId\":\"311708041148661760\",\"text\":\"Voll grade hahah\",\"nickname\":\"\uD83D\uDD25MMER\uD83D\uDD25\",\"uniqueId\":\"mayasunicorns\",\"id\":\"6687129080573771781\",\"diggCount\":0,\"createTimestamp\":\"1556968569\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632522339141638~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632522339141638~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632522339141638~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"233356261046759424\",\"text\":\"me and hair dresser. every time.\",\"nickname\":\"Ella\",\"uniqueId\":\"lelinator__leli\",\"id\":\"6686778609816322054\",\"diggCount\":0,\"createTimestamp\":\"1556886969\",\"coversMedium\":[\"https://mpak-suse1.akamaized.net/res/user_v_icon/428/icon_233356261046759424-N47UW2oVCn.jpg\"],\"coversLarger\":[\"https://mpak-suse1.akamaized.net/res/user_v_icon/428/icon_233356261046759424-N47UW2oVCn.jpg\"],\"covers\":[\"https://mpak-suse1.akamaized.net/res/user_v_icon/428/icon_233356261046759424-N47UW2oVCn.jpg\"],\"replyComment\":{}},{\"userId\":\"6550308060866002950\",\"text\":\"Spam + follow \uD83E\uDD37\uD83C\uDFFC ♀️ = spam + follow \uD83D\uDC97 ————>\",\"nickname\":\"Uśmiechnij się \uD83C\uDF37\",\"uniqueId\":\"a.oliwiek\",\"id\":\"6686908474527334405\",\"diggCount\":1,\"createTimestamp\":\"1556917205\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630877832943622~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630877832943622~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630877832943622~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6586089435766030342\",\"text\":\"@l.i.v.v.y.__ omg why\",\"nickname\":\"Flexirosa101\",\"uniqueId\":\"flexirosa101\",\"id\":\"6687356767548702726\",\"diggCount\":0,\"createTimestamp\":\"1557021585\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632014519663622~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632014519663622~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632014519663622~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6586672618001580038\",\"text\":\"She was probably about to have it cut so it wouldn't even matter\",\"nickname\":\"T_originals_02 bts\uD83D\uDE0D\",\"uniqueId\":\"puppylovergirl012\",\"id\":\"6687149760271007750\",\"diggCount\":0,\"createTimestamp\":\"1556973384\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629262040664069~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629262040664069~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629262040664069~c5_100x100.jpeg\"],\"replyComment\":{\"userId\":\"6640428710665256962\",\"text\":\"okey but why you did that?\uD83D\uDE2D\uD83D\uDE2D\",\"nickname\":\"Rilinda Fazlija\uD83C\uDDE6\uD83C\uDDF1\",\"uniqueId\":\"lindalinda2006\",\"id\":\"6686137245516611589\",\"diggCount\":83,\"createTimestamp\":\"1556737640\"," +
                "\"coversMedium\":[\"https://p16-tiktokcdn-com.akamaized.net/aweme/720x720/tiktok-obj/1624358639484929.jpeg\"],\"coversLarger\":[\"https://p16-tiktokcdn-com.akamaized.net/aweme/1080x1080/tiktok-obj/1624358639484929.jpeg\"],\"covers\":[\"https://p16-tiktokcdn-com.akamaized.net/aweme/100x100/tiktok-obj/1624358639484929.jpeg\"],\"replyComment\":{}}},{\"userId\":\"6612068768439582726\",\"text\":\"I can’t understand any of this so I’m using an app to lmao\",\"nickname\":\"kitty kat\uD83D\uDE0C\uD83E\uDD81\",\"uniqueId\":\"xo_broken_ox\",\"id\":\"6687399051841257477\",\"diggCount\":0,\"createTimestamp\":\"1557031430\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632661035679750~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632661035679750~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632661035679750~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"53623080878641152\",\"text\":\"No why did you do that\",\"nickname\":\"Miranda Seehuber \",\"uniqueId\":\"xmirandas\",\"id\":\"6687423480599674886\",\"diggCount\":1,\"createTimestamp\":\"1557037116\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632638472564742~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632638472564742~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632638472564742~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"189783783309496320\",\"text\":\"The things we do for TikTok\",\"nickname\":\"AiSLinG\",\"uniqueId\":\"aisling._.gaa\",\"id\":\"6686687629679067142\",\"diggCount\":0,\"createTimestamp\":\"1556865787\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1626840952655878~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1626840952655878~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1626840952655878~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6543284993676809216\",\"text\":\"OH,NOOOO did u just do that for TIK TOK to get more likes???\uD83D\uDE2D\uD83D\uDE2D\uD83D\uDE2D\uD83D\uDE10\",\"nickname\":\"savya\",\"uniqueId\":\"savya_alan\",\"id\":\"6687195028588625926\",\"diggCount\":0,\"createTimestamp\":\"1556983924\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631275048623109~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631275048623109~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631275048623109~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6679170095590097925\",\"text\":\"Omg did your mom let you do that\",\"nickname\":\"alyssacarreon09\",\"uniqueId\":\"alyssacarreon09\",\"id\":\"6687027924249722886\",\"diggCount\":0,\"createTimestamp\":\"1556945020\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632385623276549~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632385623276549~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632385623276549~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"201128951685996544\",\"text\":\"Hey hi i am From poland\",\"nickname\":\"wiktoria\",\"uniqueId\":\"domeracka123\",\"id\":\"6686804746911350789\",\"diggCount\":" +
                "0,\"createTimestamp\":\"1556893056\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1600741842705413~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1600741842705413~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1600741842705413~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6587981156716756998\",\"text\":\"jeżeli tylko Ci się podoba to najważniejsze ale nigdy nie rób specjalnie dla fejmu czegoś takiego ^^\",\"nickname\":\"\uD83D\uDC51Adrian Król\uD83D\uDC51\",\"uniqueId\":\"akise02\",\"id\":\"6684961315075227653\",\"diggCount\":114,\"createTimestamp\":\"1556463847\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_100x100.jpeg\"],\"replyComment\":{\"userId\":\"6653870062908719110\",\"text\":\"obcięłam dla siebie a skoro obcinalam to stwierdziłam ze nagram to\",\"nickname\":\"\uD83C\uDF3B\",\"uniqueId\":\"paawłowska_\",\"id\":\"6684960807388282886\",\"diggCount\":3465,\"createTimestamp\":\"1556463729\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632094623519749~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632094623519749~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632094623519749~c5_100x100.jpeg\"],\"replyComment\":{}}},{\"userId\":\"6653870062908719110\",\"text\":\"wszystko ok\",\"nickname\":\"\uD83C\uDF3B\",\"uniqueId\":\"paawłowska_\",\"id\":\"6684957378078900230\",\"diggCount\":166,\"createTimestamp\":\"1556462931\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632094623519749~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632094623519749~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632094623519749~c5_100x100.jpeg\"],\"replyComment\":{\"userId\":\"136719056388231168\",\"text\":\"Co z toba nie tak\",\"nickname\":\"Patka\uD83D\uDC51\",\"uniqueId\":\"_patka_23\",\"id\":\"6684956514232451078\",\"diggCount\":1,\"createTimestamp\":\"1556462729\",\"coversMedium\":[\"https://mpak-suse1.akamaized.net/res/user_v_icon/375/icon_136719056388231168-IAl7RBKtgw.jpg\"],\"coversLarger\":[\"https://mpak-suse1.akamaized.net/res/user_v_icon/375/icon_136719056388231168-IAl7RBKtgw.jpg\"],\"covers\":[\"https://mpak-suse1.akamaized.net/res/user_v_icon/375/icon_136719056388231168-IAl7RBKtgw.jpg\"],\"replyComment\":{}}},{\"userId\":\"6588510845105127429\",\"text\":\"OMG NOOOO DON'T DO IT:(\",\"nickname\":\"cocobear\",\"uniqueId\":\"sassyclodagh2019\",\"id\":\"6686864746093772805\",\"diggCount\":3,\"createTimestamp\":\"1556907024\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631255733354501~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631255733354501~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631255733354501~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6604480248007294982\",\"text\":\"Nieeee spodziwałam się ale ... Ktoś mi wytłumaczy dlaczego ona to zrobiła \uD83D\uDE31\",\"nickname\":\"" +
                "Zuzanna Zdrowowicz\",\"uniqueId\":\"zdrowazuźka\",\"id\":\"6686762994241667077\",\"diggCount\":0,\"createTimestamp\":\"1556883334\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631315077989382~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631315077989382~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631315077989382~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6617086057232121862\",\"text\":\"Nwm dlaczego ale kiedy to przeczytałam do głowy przyszła mi myśl,,przecież ręka odrasta”\uD83E\uDD26\uD83C\uDFFC ♀️\uD83D\uDE02\",\"nickname\":\"LenaQuin\uD83D\uDC78\uD83D\uDC51\uD83D\uDE18\",\"uniqueId\":\"lena_quin\",\"id\":\"6686750200935546886\",\"diggCount\":0,\"createTimestamp\":\"1556880356\",\"coversMedium\":[\"https://p16.muscdn.com/obj/musically-maliva-obj/1617233726114821\"],\"coversLarger\":[\"https://p16.muscdn.com/obj/musically-maliva-obj/1617233726114821\"],\"covers\":[\"https://p16.muscdn.com/obj/musically-maliva-obj/1617233726114821\"],\"replyComment\":{\"userId\":\"212416370037223424\",\"text\":\"Wlosy nie reka i tak odrosna\",\"nickname\":\"———&gt;30K GOAL❤️\",\"uniqueId\":\"weronika.kobus\",\"id\":\"6685673438960533509\",\"diggCount\":42,\"createTimestamp\":\"1556629652\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632072708389893~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632072708389893~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632072708389893~c5_100x100.jpeg\"],\"replyComment\":{}}},{\"userId\":\"258754471248449536\",\"text\":\"Ja bym nie odważyla się obciąć włosów i to jeszcze dla tiktoka xd\",\"nickname\":\"Natalia\uD83C\uDF08[0,2k]\",\"uniqueId\":\"_.nataliæ._\",\"id\":\"6687191017017950213\",\"diggCount\":0,\"createTimestamp\":\"1556982990\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1615698324757509~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1615698324757509~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1615698324757509~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6660218154411982854\",\"text\":\"Now\",\"nickname\":\"Nicole\",\"uniqueId\":\"user102616071\",\"id\":\"6686992677327912966\",\"diggCount\":1,\"createTimestamp\":\"1556936812\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631276135998470~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631276135998470~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631276135998470~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6514253022078440448\",\"text\":\"Czy tylko ja myślałam po przeczytaniu opisu ze będzie „ryjjj” nwm cm? XDDDD\",\"nickname\":\".\",\"uniqueId\":\"lilu.xv\",\"id\":\"6686526759594360837\",\"diggCount\":0,\"createTimestamp\":\"1556828331\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630070051944454~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630070051944454~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630070051944454~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6660125504476069894\",\"text\":\"może " +
                "akurat chciała sobie podciągnąć to i tak pod ścięła ☺\",\"nickname\":\"\uD83D\uDD25ilcia\uD83D\uDD25\",\"uniqueId\":\"ilonka_emilka\",\"id\":\"6687244304710909957\",\"diggCount\":0,\"createTimestamp\":\"1556995397\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631141954478085~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631141954478085~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1631141954478085~c5_100x100.jpeg\"],\"replyComment\":{\"userId\":\"6587981156716756998\",\"text\":\"Jezus obciąć włosy dla fejmu...masakra\",\"nickname\":\"\uD83D\uDC51Adrian Król\uD83D\uDC51\",\"uniqueId\":\"akise02\",\"id\":\"6684959482197753862\",\"diggCount\":5674,\"createTimestamp\":\"1556463421\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_100x100.jpeg\"],\"replyComment\":{}}},{\"userId\":\"6668702561975123974\",\"text\":\"Jejku jak tego chciała to mogła ! A poza tym @paawłowska_ pewnie jak chciała już to robić to zrobiła\",\"nickname\":\"\uD83E\uDD40\uD83E\uDD40alpha\uD83E\uDD40\uD83E\uDD40\",\"uniqueId\":\"asia.jaw07\",\"id\":\"6686520642164228102\",\"diggCount\":1,\"createTimestamp\":\"1556826906\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630817931682822~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630817931682822~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630817931682822~c5_100x100.jpeg\"],\"replyComment\":{\"userId\":\"6587981156716756998\",\"text\":\"Jezus obciąć włosy dla fejmu...masakra\",\"nickname\":\"\uD83D\uDC51Adrian Król\uD83D\uDC51\",\"uniqueId\":\"akise02\",\"id\":\"6684959482197753862\",\"diggCount\":5674,\"createTimestamp\":\"1556463421\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_100x100.jpeg\"],\"replyComment\":{}}},{\"userId\":\"6604088518082084869\",\"text\":\"nie a co twoja mama powiedziała i równo obcjelas\",\"nickname\":\"Kfoka\uD83D\uDE0E\",\"uniqueId\":\"oliwiapannamanna0912\",\"id\":\"6687181191134773254\",\"diggCount\":0,\"createTimestamp\":\"1556980702\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1618411513056262~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1618411513056262~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1618411513056262~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"252243133382676480\",\"text\":\"@fabi_spring bruh\",\"nickname\":\"noe\uD83D\uDD4A♡\",\"uniqueId\":\"nœlaa\",\"id\":\"6686511739888730117\",\"diggCount\":0,\"createTimestamp\":\"1556824834\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1613968074303494~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1613968074303494~c5_1080x1080.jpeg\"],\"covers\":" +
                "[\"https://p16.muscdn.com/img/musically-maliva-obj/1613968074303494~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6676392819311969286\",\"text\":\"No bez przesady ja rozumiem żeby ściąć sobie włosy na rak&roll albo 2cm i to wrzucić na tt ażtyle?!\",\"nickname\":\"~^•^~Mio~^•^~\",\"uniqueId\":\"xxmiomatexx\",\"id\":\"6686075340105728006\",\"diggCount\":0,\"createTimestamp\":\"1556723226\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629992238508038~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629992238508038~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629992238508038~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6666387918208614406\",\"text\":\"Mega\uD83D\uDC95Jak bedziesz miala czas to wbij do mnie\uD83D\uDE00\",\"nickname\":\"SadRock\",\"uniqueId\":\"xrockxx\",\"id\":\"6686511437986316294\",\"diggCount\":1,\"createTimestamp\":\"1556824763\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632419448057861~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632419448057861~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632419448057861~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6566511801604685829\",\"text\":\"jak przeczytałam opis przed zobaczeniem to tak ,jak bym nie zobaczyła to nie\",\"nickname\":\"Julia Marszałek\",\"uniqueId\":\"juliamarszałek2\",\"id\":\"6687259893889892358\",\"diggCount\":0,\"createTimestamp\":\"1556999027\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1618130901921797~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1618130901921797~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1618130901921797~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"259502257652850688\",\"text\":\"To,, no\\\" przypomniał mi się Charlie haha\",\"nickname\":\"BaM is my life ❤\uD83D\uDC9C\",\"uniqueId\":\"agata_szperlik\",\"id\":\"6687263744625508358\",\"diggCount\":1,\"createTimestamp\":\"1556999923\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630150303596550~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630150303596550~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630150303596550~c5_100x100.jpeg\"],\"replyComment\":{\"userId\":\"198575944989777920\",\"text\":\"@agata_szperlik never\",\"nickname\":\"aa.maja\",\"uniqueId\":\"mãjka233\",\"id\":\"6687263494268092422\",\"diggCount\":0,\"createTimestamp\":\"1556999865\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1625090034194437~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1625090034194437~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1625090034194437~c5_100x100.jpeg\"],\"replyComment\":{}}},{\"userId\":\"6553557832481193989\",\"text\":\"Jezus może i tak obcinala... Masakra\",\"nickname\":\"Zuzka\uD83C\uDF6A\uD83C\uDF08\",\"uniqueId\":\"_zuzixsa_\",\"id\":\"6687063686722453510\",\"diggCount\":0,\"createTimestamp\":\"1556953344\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632400463267846~c5_720x720.jpeg\"],\"coversLarger\":" +
                "[\"https://p16.muscdn.com/img/musically-maliva-obj/1632400463267846~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632400463267846~c5_100x100.jpeg\"],\"replyComment\":{\"userId\":\"6587981156716756998\",\"text\":\"Jezus obciąć włosy dla fejmu...masakra\",\"nickname\":\"\uD83D\uDC51Adrian Król\uD83D\uDC51\",\"uniqueId\":\"akise02\",\"id\":\"6684959482197753862\",\"diggCount\":5674,\"createTimestamp\":\"1556463421\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_100x100.jpeg\"],\"replyComment\":{}}},{\"userId\":\"6685640290495202309\",\"text\":\"nie. Myślałam,że końcówki obetniesz xd.\",\"nickname\":\"ona_to_jest_sztosik\",\"uniqueId\":\"julciapatyk\",\"id\":\"6687111929057558534\",\"diggCount\":0,\"createTimestamp\":\"1556964576\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632237698107397~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632237698107397~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632237698107397~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6578754423706927110\",\"text\":\"Ludzie..może po prostu i tak obcinała włosy wiec? XD\",\"nickname\":\"NatalkaOfficial ❤️\",\"uniqueId\":\"maslo20\",\"id\":\"6684994360351801350\",\"diggCount\":743,\"createTimestamp\":\"1556471540\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630435417311238~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630435417311238~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1630435417311238~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6536732297381549071\",\"text\":\"ZAPRASZAM DO MNIE NA MÓJ PROFIL \uD83D\uDE42\",\"nickname\":\"Sandra Ingram\",\"uniqueId\":\"sanwoz2\",\"id\":\"6687336996438097926\",\"diggCount\":0,\"createTimestamp\":\"1557016980\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1615405657408533~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1615405657408533~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1615405657408533~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"64190537884250112\",\"text\":\"a moze po prostu chciala je sciacXD???\",\"nickname\":\"larry face\",\"uniqueId\":\"im__laura\",\"id\":\"6686848361007628294\",\"diggCount\":0,\"createTimestamp\":\"1556903210\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1627249773198342~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1627249773198342~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1627249773198342~c5_100x100.jpeg\"],\"replyComment\":{\"userId\":\"6587981156716756998\",\"text\":\"Jezus obciąć włosy dla fejmu...masakra\",\"nickname\":\"\uD83D\uDC51Adrian Król\uD83D\uDC51\",\"uniqueId\":\"akise02\",\"id\":\"6684959482197753862\",\"diggCount\":5674,\"createTimestamp\":\"1556463421\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_720x720.jpeg\"]," +
                "\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1629826334361606~c5_100x100.jpeg\"],\"replyComment\":{}}},{\"userId\":\"6686130927791637509\",\"text\":\"Omg\",\"nickname\":\"Timii✨\",\"uniqueId\":\"_timiifarkas_fan\",\"id\":\"6686717672694382597\",\"diggCount\":0,\"createTimestamp\":\"1556872784\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632497570570245~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632497570570245~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1632497570570245~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6596292825138020357\",\"text\":\"fajnie wyglądasz dacie 1k❤ pod tym?\",\"nickname\":\"kc_laura\",\"uniqueId\":\"melwer1\",\"id\":\"6687112836705566726\",\"diggCount\":0,\"createTimestamp\":\"1556964787\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1619394411660310~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1619394411660310~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1619394411660310~c5_100x100.jpeg\"],\"replyComment\":{}}],\"hasMore\":true,\"cursor\":48,\"total\":3860},\"errMsg\":null}";

        NextPages extractedNextPages = extractor.extractNextPagesInfo(urlResponse);

        NextPages createdNextPages = new NextPages();
        createdNextPages.setStatus(true);
        createdNextPages.setTotal(3860);

        Assert.assertEquals(createdNextPages, extractedNextPages);
    }

    @Test
    public void CommentMessageTextIsGroupedTest() {
        List<String> urlResponses = new ArrayList <>();
        urlResponses.add("{\"statusCode\":0,\"body\":{\"pageState\":{\"regionAppId\":1233,\"os\":\"linux\",\"region\":\"PL\",\"baseURL\":\"m.tiktok.com\",\"appType\":\"t\",\"fullUrl\":\"https://www.tiktok.com/share/item/comment/list?id=6686441987769371910&count=48&cursor=0&_signature=cJfYMBAfLGFyOs.2PI.XMXCX2C\"},\"commentListData\":[],\"hasMore\":false,\"cursor\":48,\"total\":0},\"errMsg\":null}\n");
        urlResponses.add("{\"statusCode\":200,\"contentType\":\"text/plain\",\"content\":\"\"}\n");
        urlResponses.add("{\"statusCode\":0,\"body\":{\"pageState\":{\"regionAppId\":1233,\"os\":\"linux\",\"region\":\"PL\",\"baseURL\":\"m.tiktok.com\",\"appType\":\"t\",\"fullUrl\":\"https://www.tiktok.com/share/item/comment/list?id=6685918855652445445&count=48&cursor=0&_signature=cJfYMBAfLGFyOs.2PI.XMXCX2C\"},\"commentListData\":[{\"userId\":\"6660063624449146886\",\"text\":\"Love it x\",\"nickname\":\"Jempower\",\"uniqueId\":\"jempower_92\",\"id\":\"6685951746499788806\",\"diggCount\":1,\"createTimestamp\":\"1556694450\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1626198595280901~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1626198595280901~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1626198595280901~c5_100x100.jpeg\"],\"replyComment\":{}}],\"hasMore\":false,\"cursor\":48,\"total\":1},\"errMsg\":null}\n");
        urlResponses.add("{\"statusCode\":200,\"contentType\":\"text/plain\",\"content\":\"\"}\n");
        urlResponses.add("{\"statusCode\":0,\"body\":{\"pageState\":{\"regionAppId\":1233,\"os\":\"linux\",\"region\":\"PL\",\"baseURL\":\"m.tiktok.com\",\"appType\":\"t\",\"fullUrl\":\"https://www.tiktok.com/share/item/comment/list?id=6686152070195580166&count=48&cursor=0&_signature=cJfYMBAfLGFyOs.2PI.XMXCX2C\"},\"commentListData\":[{\"userId\":\"6559527704805244934\",\"text\":\"That looked easy, but actually it's complicated.\",\"nickname\":\"taylauren3\",\"uniqueId\":\"taylauren3\",\"id\":\"6686195432219181061\",\"diggCount\":0,\"createTimestamp\":\"1556751188\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/6559527704805244934~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/6559527704805244934~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/6559527704805244934~c5_100x100.jpeg\"],\"replyComment\":{}},{\"userId\":\"6560495962375061509\",\"text\":\"got stunned\uD83D\uDC4D\uD83C\uDFFB\",\"nickname\":\"barhead4lyfe79\",\"uniqueId\":\"barhead4lyfe79\",\"id\":\"6686207806444044293\",\"diggCount\":0,\"createTimestamp\":\"1556754069\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/6560495962375061509~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/6560495962375061509~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/6560495962375061509~c5_100x100.jpeg\"],\"replyComment\":{}}],\"hasMore\":false,\"cursor\":48,\"total\":2},\"errMsg\":null}\n");
        urlResponses.add("{\"statusCode\":0,\"body\":{\"pageState\":{\"regionAppId\":1233,\"os\":\"linux\",\"region\":\"PL\",\"baseURL\":\"m.tiktok.com\",\"appType\":\"t\",\"fullUrl\":\"https://www.tiktok.com/share/item/comment/list?id=6686257894083529989&count=48&cursor=0&_signature=cJfYMBAfLGFyOs.2PI.XMXCX2C\"},\"commentListData\":[{\"userId\":\"82098281358487552\",\"text\":\"Glee 2da temporada jajaja \uD83D\uDE00\uD83D\uDE05\uD83D\uDE02\uD83D\uDE03\",\"nickname\":\"Jorge Luis Quiliche Tolentino\",\"uniqueId\":\"jquilichet\",\"id\":\"6686615844338106374\",\"diggCount\":0,\"createTimestamp\":\"1556849075\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1628942501948422~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1628942501948422~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1628942501948422~c5_100x100.jpeg\"],\"replyComment\":{}}],\"hasMore\":false,\"cursor\":48,\"total\":1},\"errMsg\":null}");

        List<String> messages = new ArrayList <>();
        messages.add("Love it x");
        messages.add("That looked easy, but actually it's complicated.");
        messages.add("got stunned\uD83D\uDC4D\uD83C\uDFFB");
        messages.add("Glee 2da temporada jajaja \uD83D\uDE00\uD83D\uDE05\uD83D\uDE02\uD83D\uDE03");

        List<String> textMessages = extractor.extractCommentDataResults(urlResponses).getTextMessages();

        Assert.assertEquals(4, textMessages.size());
        Assert.assertEquals(messages, textMessages);
    }

    @Test
    public void CommentAuthorIsGroupedTest() {
        List<String> urlResponses = new ArrayList <>();
        urlResponses.add("{\"statusCode\":200,\"contentType\":\"text/plain\",\"content\":\"\"}");
        urlResponses.add("{\"statusCode\":0,\"body\":{\"pageState\":{\"regionAppId\":1233,\"os\":\"linux\",\"region\":\"PL\",\"baseURL\":\"m.tiktok.com\",\"appType\":\"t\",\"fullUrl\":\"https://www.tiktok.com/share/item/comment/list?id=6685918855652445445&count=48&cursor=0&_signature=cJfYMBAfLGFyOs.2PI.XMXCX2C\"},\"commentListData\":[{\"userId\":\"6660063624449146886\",\"text\":\"Love it x\",\"nickname\":\"Jempower\",\"uniqueId\":\"jempower_92\",\"id\":\"6685951746499788806\",\"diggCount\":1,\"createTimestamp\":\"1556694450\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1626198595280901~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1626198595280901~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1626198595280901~c5_100x100.jpeg\"],\"replyComment\":{}}],\"hasMore\":false,\"cursor\":48,\"total\":1},\"errMsg\":null}\n");
        urlResponses.add("{\"statusCode\":0,\"body\":{\"pageState\":{\"regionAppId\":1233,\"os\":\"linux\",\"region\":\"PL\",\"baseURL\":\"m.tiktok.com\",\"appType\":\"t\",\"fullUrl\":\"https://www.tiktok.com/share/item/comment/list?id=6686257894083529989&count=48&cursor=0&_signature=cJfYMBAfLGFyOs.2PI.XMXCX2C\"},\"commentListData\":[{\"userId\":\"82098281358487552\",\"text\":\"Glee 2da temporada jajaja \uD83D\uDE00\uD83D\uDE05\uD83D\uDE02\uD83D\uDE03\",\"nickname\":\"Jorge Luis Quiliche Tolentino\",\"uniqueId\":\"jquilichet\",\"id\":\"6686615844338106374\",\"diggCount\":0,\"createTimestamp\":\"1556849075\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1628942501948422~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1628942501948422~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1628942501948422~c5_100x100.jpeg\"],\"replyComment\":{}}],\"hasMore\":false,\"cursor\":48,\"total\":1},\"errMsg\":null}");

        List<String> authors = new ArrayList<>();
        authors.add("Jempower");
        authors.add("Jorge Luis Quiliche Tolentino");

        List <String> groupedAuthors = extractor.extractCommentDataResults(urlResponses).getAuthors();
        Assert.assertEquals(2, groupedAuthors.size());
        Assert.assertEquals(authors, groupedAuthors);
    }

    @Test
    public void CommentDateIsGroupedTest() {
        List<String> urlResponses = new ArrayList <>();
        urlResponses.add("{\"statusCode\":0,\"body\":{\"pageState\":{\"regionAppId\":1233,\"os\":\"linux\",\"region\":\"PL\",\"baseURL\":\"m.tiktok.com\",\"appType\":\"t\",\"fullUrl\":\"https://www.tiktok.com/share/item/comment/list?id=6686257894083529989&count=48&cursor=0&_signature=cJfYMBAfLGFyOs.2PI.XMXCX2C\"},\"commentListData\":[{\"userId\":\"82098281358487552\",\"text\":\"Glee 2da temporada jajaja \uD83D\uDE00\uD83D\uDE05\uD83D\uDE02\uD83D\uDE03\",\"nickname\":\"Jorge Luis Quiliche Tolentino\",\"uniqueId\":\"jquilichet\",\"id\":\"6686615844338106374\",\"diggCount\":0,\"createTimestamp\":\"1556849075\",\"coversMedium\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1628942501948422~c5_720x720.jpeg\"],\"coversLarger\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1628942501948422~c5_1080x1080.jpeg\"],\"covers\":[\"https://p16.muscdn.com/img/musically-maliva-obj/1628942501948422~c5_100x100.jpeg\"],\"replyComment\":{}}],\"hasMore\":false,\"cursor\":48,\"total\":1},\"errMsg\":null}");

        Assert.assertTrue(extractor.extractCommentDataResults(urlResponses).getDates().contains("1556849075"));
    }

    @Test
    public void allTagsExtractedTest() {
        List<String> data = new ArrayList <>();
        data.add("Fail\uD83D\uDE02 De azért nem lett olyan rossz#lol#tiktok#i can see you#from#bihend");
        data.add("Guess what brand of phone I use ?? ❤️#slowmotion #transition #l4l.#sg?#me #lol\n" +
                "\n");

        Assert.assertEquals(11, extractor.extractHashTags(data).size());
    }

    @Test
    public void extractHashTagsTest() {
        List<String> data = new ArrayList <>();
        data.add("Kurz und knapp mein #spind. #foryoupage #foryou #fortnite #meme #lol");
        data.add("\uD83E\uDD23#trend #foryoupage #huh #lol I’ll give 10$ to the person that duets and duets and does it right\uD83D\uDE0A");
        data.add("#duett med @reagera_giirl jag tittar inte på dem här sakerna#lol");
        data.add("new trend! Sorry for android lag #foryou #fakememe #foryoupage #meme #lol #duet");
        data.add("Who wants to date? You have to be 10-14 \uD83E\uDD2A\uD83D\uDC4B\uD83C\uDFFC\uD83D\uDC95] #foru #yeet #lol #og #oj #omega #lmao #date #singl");

        List <String> tags = extractor.extractHashTags(data);
        Assert.assertTrue(extractor.pickOutTopHashTags(tags, 3).containsKey("lol")&&
                extractor.pickOutTopHashTags(tags, 3).containsKey("foryoupage")&&
                extractor.pickOutTopHashTags(tags, 3).containsKey("meme"));
    }

    @Test
    public void countUniqueTagsTest() {
        List<String> messages = new ArrayList <>();
        messages.add("#huawei #apple #samsung #nokia#myPhone #lol");
        messages.add("#duett #lol#duett med @reagera_giirl jag tittar inte på dem här sakerna#lol");
        messages.add("test working#samsung");

        List <String> allTags = extractor.extractHashTags(messages);
        Assert.assertEquals(7, extractor.countUniqueTags(allTags));
    }

    @Test
    public void extract5TagsTest() {
        List<String> data = new ArrayList <>();
        data.add("Kurz und knapp mein #spind. #foryoupage #foryou #fortnite #meme #lol");
        data.add("\uD83E\uDD23#trend #foryoupage #huh #lol I’ll give 10$ to the person that duets and duets and does it right\uD83D\uDE0A");
        data.add("#duett med @reagera_giirl jag tittar inte på dem här sakerna#lol");
        data.add("new trend! Sorry for android lag #foryou #fakememe #foryoupage #meme #lol #duet");
        data.add("Who wants to date? You have to be 10-14 \uD83E\uDD2A\uD83D\uDC4B\uD83C\uDFFC\uD83D\uDC95] #foru #yeet #lol #og #oj #omega #lmao #date #singl");
        data.add("Premier tik tok #cochon #friends #france #lol");
        data.add("Fail\uD83D\uDE02 De azért nem lett olyan rossz#lol#tiktok#i can see you#from#bihend");
        data.add("Guess what brand of phone I use ?? ❤️#slowmotion #transition #l4l #sg #me #lol\n" +
                "\n");

        Assert.assertEquals(5, extractor.pickOutTopHashTags(data, 5).size());
    }

    @Test
    public void endDateChosenTest() {
        List<String> unixTime = new ArrayList <>();
        unixTime.add("1533633600");
        unixTime.add("1553897340");
        unixTime.add("1556907526");

        String endDate = extractor.getEndDate(unixTime);
        Assert.assertEquals("03 May 2019 20:18", endDate);
    }

    @Test
    public void startDateChosenTest() {
        List<String> unixTime = new ArrayList <>();
        unixTime.add("1533633600");
        unixTime.add("1553897340");
        unixTime.add("1556907526");

        String startDate = extractor.getStartDate(unixTime);
        Assert.assertEquals("07 Aug 2018 11:20", startDate);
    }
}
